<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Product Details | LensForge</title>
    <meta name="description" content="View detailed information about photography products on LensForge">
    
    <!-- Preload Critical Resources -->
    <link rel="preload" href="style.css" as="style">
    <link rel="preload" href="detail.js" as="script">
    <link rel="preload" href="data.json" as="fetch" crossorigin>
  <link rel="shortcut icon" href="LOGO.png" type="image/x-icon">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" 
          integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" 
          integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer">
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="style.css">
    
    <!-- Structured Data for SEO -->
    <script type="application/ld+json">
    {
        "@context": "https://schema.org/",
        "@type": "Product",
        "name": "Loading...",
        "image": "",
        "description": "",
        "brand": {
            "@type": "Brand",
            "name": ""
        },
        "offers": {
            "@type": "Offer",
            "priceCurrency": "USD",
            "price": "0",
            "availability": "https://schema.org/InStock"
        }
    }
    </script>
</head>
<body class="bg-dark text-light">
    
    <!-- Navbar Placeholder -->
    <div id="navbar"></div>

    <!-- Main Content -->
    <main class="container py-4 py-md-5">
        <!-- Loading State -->
        <div id="loadingState" class="text-center py-5">
            <div class="spinner-border text-warning" style="width: 3rem; height: 3rem;" role="status">
                <span class="visually-hidden">Loading product details...</span>
            </div>
            <h3 class="mt-4">Loading Product Details</h3>
            <p class="text-muted">Please wait while we load the product information...</p>
        </div>

        <!-- Error State (Hidden by default) -->
        <div id="errorState" class="text-center py-5 d-none">
            <i class="fas fa-exclamation-triangle fa-4x text-danger mb-3"></i>
            <h2 class="text-danger">Product Not Found</h2>
            <p class="text-muted mb-4">The product you're looking for doesn't exist or has been removed.</p>
            <a href="index.html" class="btn btn-warning btn-lg">
                <i class="fas fa-arrow-left me-2"></i> Back to Home
            </a>
        </div>

        <!-- Product Detail Container -->
        <div id="productDetail" class="d-none">
            <!-- Product will be loaded here by detail.js -->
        </div>

        <!-- Back to Products -->
        <div class="mt-5 pt-4 border-top border-secondary">
            <a href="index.html" class="btn btn-outline-warning">
                <i class="fas fa-arrow-left me-2"></i> Back to All Products
            </a>
        </div>
    </main>

    <!-- Related Products Section -->
    <section class="bg-secondary py-5 mt-5">
        <div class="container">
            <h2 class="text-center mb-5">You Might Also Like</h2>
            
            <!-- Related Products Loading -->
            <div id="relatedProductsLoading" class="text-center">
                <div class="spinner-border text-warning" role="status">
                    <span class="visually-hidden">Loading related products...</span>
                </div>
                <p class="mt-3 text-muted">Finding similar products...</p>
            </div>
            
            <!-- Related Products Container -->
            <div id="relatedProducts" class="row g-4 d-none">
                <!-- Related products will be loaded here -->
            </div>
            
            <!-- No Related Products Message -->
            <div id="noRelatedProducts" class="text-center d-none">
                <p class="text-muted">No related products found at the moment.</p>
            </div>
        </div>
    </section>

    <!-- Footer Placeholder -->
    <div id="footer"></div>

    <!-- Back to Top Button -->
    <button id="backToTop" class="btn btn-warning rounded-circle position-fixed bottom-0 end-0 m-3" 
            style="width: 50px; height: 50px; display: none; z-index: 1000;"
            aria-label="Back to top">
        <i class="fas fa-arrow-up"></i>
    </button>

    <!-- Bootstrap JS Bundle -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" 
            integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous" defer></script>
    
    <!-- Custom JS -->
    <script src="detail.js" defer></script>
    
    <!-- Back to Top Script -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const backToTopBtn = document.getElementById('backToTop');
            
            window.addEventListener('scroll', function() {
                if (window.pageYOffset > 300) {
                    backToTopBtn.style.display = 'block';
                } else {
                    backToTopBtn.style.display = 'none';
                }
            });
            
            backToTopBtn.addEventListener('click', function() {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            });
        });
    </script>
</body>
</html>